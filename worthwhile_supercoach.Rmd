---
title: "Worthwhile Averages - SuperCoach"
output: html_document
---

When selecting players for our starting squad, we look for players with upside. But how much upside do they need? I've determined **Worthwhile Averages** as a way to measure what each player must average to be an elite pick. This model is trained on a decade of data, and adjusts values based on player price and position offset. DEFs and FWDs are typically much lower than a similarly priced MID or RUC, highlighting value across positions.

As it is a worthwhile *average*, it focuses only on points and not cash generation. If you believe a player will score their required points, you must start them in SuperCoach.

```{r, echo=F, message=F, warning=F}
library(dplyr)
library(reactable)
library(htmltools)

table <- readRDS("data/supercoach/Worthwhile Averages 2024.rds") %>% 
    mutate(playerId = ifelse(playerId == "1012013","1026850",playerId)) %>% 
  mutate(Worthwhile = as.numeric(Worthwhile))

reactable(
  table[,-c(1)],
  defaultSorted = c("Worthwhile","ByeAdj"),
  defaultSortOrder = "desc",
  showSortIcon = FALSE,
  showPageSizeOptions = TRUE,
  striped = TRUE,
  pageSizeOptions = c(50,100,200),
  defaultPageSize = 50,
  elementId = "worthwhile_table",
  searchable = T,
  style = list(
    fontSize = '12px'
  ),
  columns = list(
    Player = colDef(
      name = "Player",
      sticky = "left",
      defaultSortOrder = "asc",
      cell=function(value,index){
        image <- img(src = paste0("https://fantasy.afl.com.au/assets/media/players/afl/",table$playerId[index],"_450.png"), style = "height: 24px;vertical-align:middle")
        tagList(
          div(style = "vertical-align:bottom;",image,paste0(" ",value))
        )},
      minWidth = 200
    ),
    Price = colDef(
      cell = JS("function(cellInfo) {return '$' + cellInfo.value/1000 + 'K'}")
    ),
    PricedAt = colDef(
      name = "Priced At",
      format = colFormat(digits = 1)
    ),
    Worthwhile = colDef(
      name = "Worthwhile Av",
      format = colFormat(digits = 1)
    ),
    ByeAdj = colDef(
      name = "Bye Adjusted",
      format = colFormat(digits = 1)
    ),
    av_2023 = colDef(
      name = "2023 Av",
      format = colFormat(digits =1)
    )
  )
)
  
```

